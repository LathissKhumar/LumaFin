┌─────────────────┐
│   API Gateway   │ ← User requests
└────────┬────────┘
         │
    ┌────┴─────────────────────────┐
    │                              │
┌───▼──────────┐        ┌─────────▼────────┐
│ Preprocessing │        │   User Service   │
│   Service     │        │  (Auth/Profile)  │
└───┬──────────┘        └──────────────────┘
    │
┌───▼────────────┐
│   Embedding    │
│    Service     │
└───┬────────────┘
    │
┌───▼────────────┐      ┌──────────────────┐
│   Retrieval    │◄─────┤  FAISS Index     │
│    Service     │      │   (Vector DB)    │
└───┬────────────┘      └──────────────────┘
    │
┌───▼────────────┐
│   Reranker     │
│    Service     │
└───┬────────────┘
    │
┌───▼────────────┐      ┌──────────────────┐
│  AMPT Engine   │◄─────┤  Personal Tax    │
│   (Clustering) │      │   Database       │
└───┬────────────┘      └──────────────────┘
    │
┌───▼────────────┐
│  Explainability│
│    Service     │
└───┬────────────┘
    │
┌───▼────────────┐
│   Feedback &   │
│  Training Loop │
└────────────────┘